
# 正则表达式

## 基础概念

专门用来操作（检索）字符串（擅长模糊范围）的一种规则。

## 声明方式

1. 标准声明方式：var re =new RegExp('要匹配的规则' || // ,'修饰符')	 				
2. 简洁声明方式：var re =/正则表达式/ ( '/' 是转义字符)	
	
**注意：**

简写的正则中只能放字符串，不允许放变量，如果放了变量，意思就是去找整个字符串中有没有这个变量名的字符如果要放变量。

在使用 new RegExp的时候，如果字符串中有转义符，那这个时候需要把转义符用\转义。

## 常用的方法
1. 正则.test(str)	

   	判断规则中是否有匹配项，如果有返回true，否则返回false.
   
2. string.search(字符串||正则)

   	找到制定字符的索引，如果找不到返回-1.

3. String.match(正则)

   	将匹配到的字符串提取出来放到数组中.

  	注意：<br>

   	如果只找到一个，那么length为1，但是视觉上有好几个
	
		第一项：匹配到的字符
		第二项：匹配到的字符索引
		第三项：整个字符串

4. String.replace('要被替换的字符串'||正则,'替换成什么'||回调函数)

   	每当匹配到合格的字符串后，回调函数就会执行一次

   	回调函数中必须要有返回值。不然匹配的字符串会替换成undefined

   	$0:本次匹配到的字符串（结果）
   
    **当使用了回掉函数时候两种情况的分析：**
	
	默认情况：

		函数的第一个参数：

			本次匹配到的字符串

		函数的第二个参数：

			本次匹配到的字符串下标

		函数的第三个参数：

			整个字符串

		函数的第三个参数之后：

			undefined

	正则中含有子项的情况：

		只要在正则中有了()，那么回调函数的第二个参数之后就是子项
		例如在正则中有三个子项那么：
			$1-$3表示 子项
			$4-$5表示 索引 整个字符串 undefined


## 正则表达式中所有字符的含义

1. 常用的修饰符
 
		i 不区分大小写
		g 全局

2. 常用的普通字符

		\s:空格		\S:非空格
		\d:数字		\D:非数字
		\w:字符		\W:非字符
		\b:边界符
		\1:重复一次第一个子项

3. 常用的量词

		{n,m} 最小n个最多m个
		{1，} 最小一个最多不限 +
		{0，} 最小一个最多不限  可用*来代替
		{0，1} 最少可以没有最多可以一个 可以用？来代替		

3. 特殊字符

		$	匹配输入字符串的结尾位置。如果设置了 RegExp 对象的 Multiline 属性，则 $ 也匹配‘\n’ 或 ‘\r’。要匹配 $ 字符本身，请使用 \$。
		( )	标记一个子表达式的开始和结束位置。子表达式可以获取供以后使用。要匹配这些字符，请使用 \( 和 \)。
		*	匹配前面的子表达式零次或多次。要匹配 * 字符，请使用 \*。
		+	匹配前面的子表达式一次或多次。要匹配 + 字符，请使用 \+。
		.	匹配除换行符 \n之外的任何单字符。要匹配 .，请使用 \。
		[	标记一个中括号表达式的开始。要匹配 [，请使用 \[。
		?	匹配前面的子表达式零次或一次，或指明一个非贪婪限定符。要匹配 ? 字符，请使用 \?。
		\	将下一个字符标记为或特殊字符、或原义字符、或向后引用、或八进制转义符。例如， ‘n’ 匹配字符 ‘n’。’\n’ 匹配换行符。序列 ‘\\’ 匹配 “\”，而 ‘\(’ 则匹配 “(”。
		^	匹配输入字符串的开始位置，除非在方括号表达式中使用，此时它表示不接受该字符集合。要匹配 ^ 字符本身，请使用 \^。
		{	标记限定符表达式的开始。要匹配 {，请使用 \{。


>中文的范围区间[\u4e00-\u9fa5]	

## 常用的正则表达式
	正整数
	/^[0-9]*[1-9][0-9]*$/;
	负整数
	/^-[0-9]*[1-9][0-9]*$/;
	正浮点数
	/^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$/;   
	负浮点数
	/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/;  
	浮点数
	/^(-?\d+)(\.\d+)?$/;
	email地址
	/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/;
	url地址
	/^[a-zA-z]+:(\w+(-\w+)*)(\.(\w+(-\w+)*))*(\?\S*)?$/;
	或：^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\:+!]*([^<>\"\"])*$ 
	年/月/日（年-月-日、年.月.日）
	/^(19|20)\d\d[- /.](0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])$/;
	匹配中文字符
	/[\u4e00-\u9fa5]/;
	匹配帐号是否合法(字母开头，允许5-10字节，允许字母数字下划线)
	/^[a-zA-Z][a-zA-Z0-9_]{4,9}$/;
	匹配空白行的正则表达式
	/\n\s*\r/;
	匹配中国邮政编码
	/[1-9]\d{5}(?!\d)/;
	匹配身份证
	/\d{15}|\d{18}/;
	匹配国内电话号码
	/(\d{3}-|\d{4}-)?(\d{8}|\d{7})?/;
	匹配IP地址
	/((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)/;
	匹配首尾空白字符的正则表达式
	/^\s*|\s*$/;
	匹配HTML标记的正则表达式
	< (\S*?)[^>]*>.*?|< .*? />;
	sql 语句
	^(select|drop|delete|create|update|insert).*$
	提取信息中的网络链接
	(h|H)(r|R)(e|E)(f|F) *= *(|")?(\w|\\|\/|\.)+(|"| *|>)? 
	提取信息中的邮件地址
	\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)* 
	提取信息中的图片链接
	(s|S)(r|R)(c|C) *= *(|")?(\w|\\|\/|\.)+(|"| *|>)? 
	提取信息中的 IP 地址
	(\d+)\.(\d+)\.(\d+)\.(\d+)
	取信息中的中国手机号码
	(86)*0*13\d{9} 
	提取信息中的中国邮政编码
	[1-9]{1}(\d+){5} 
	提取信息中的浮点数（即小数）
	(-?\d*)\.?\d+ 
	提取信息中的任何数字
	(-?\d*)(\.\d+)?
	电话区号
	^0\d{2,3}$
	腾讯 QQ 号
	^[1-9]\d{5,10}*$ 
	帐号（字母开头，允许 5-16 字节，允许字母数字下划线）
	^[a-zA-Z][a-zA-Z0-9_]{4,15}$ 
	中文、英文、数字及下划线
	^[\u4e00-\u9fa5_a-zA-Z0-9]+$
	